{"remainingRequest":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/ProjectDetailTitle.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/ProjectDetailTitle.vue","mtime":1609071089412},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport debounce from 'lodash.debounce'\nimport uniq from 'lodash.uniq'\n\nexport default {\n  name: 'HelloWorld',\n  props: {\n    project: Object\n  },\n  computed: {\n    jnMask( ) {\n      return this.$store.state.serverManifest.jnMask || \"######-##\"\n    },\n    allProjectStreams( ) {\n      return this.project.streams.join( ',' )\n    },\n    allTags( ) {\n      return this.$store.getters.allTags\n    },\n    canEdit( ) {\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\n    },\n    owner( ) {\n      let u = this.$store.state.users.find( user => user._id === this.project.owner )\n      if ( !u ) {\n        this.$store.dispatch( 'getUser', { _id: this.project.owner } )\n      }\n      return u ? u.surname.includes( \"is you\" ) ? `you` : `${u.name} ${u.surname}` : 'Loading'\n    },\n    canReadProject( ) { return this.project.canRead },\n    canWriteProject( ) { return this.project.canWrite },\n    canReadStreams( ) { return this.project.permissions.canRead },\n    canWriteStreams( ) { return this.project.permissions.canWrite },\n    allUsers( ) {\n      return uniq( [ ...this.canReadProject, ...this.canWriteProject, ...this.canReadStreams, ...this.canWriteProject, this.project.owner ] )\n    }\n  },\n  data( ) { return {} },\n  methods: {\n    updateName( args ) {\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, name: args.text } )\n    },\n    updateTags: debounce( function ( e ) {\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, tags: this.project.tags } )\n    }, 1000 ),\n    updateJobNumber: debounce( function ( e ) {\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, jobNumber: this.project.jobNumber } )\n    }, 1000 )\n  }\n}\n\n",{"version":3,"sources":["ProjectDetailTitle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProjectDetailTitle.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card class='elevation-0 pa-3'>\n    <v-layout row wrap>\n      <v-flex xs12 class='display-1 font-weight-light text-capitalize my-5'>\n        <v-btn icon @click.native='$router.push(`/view/${allProjectStreams}`)'>\n          <v-icon>360</v-icon>\n        </v-btn>\n        <!-- {{allProjectStreams}} -->\n        <editable-span v-if='canEdit' :text='project.name' @update='updateName'></editable-span>\n        <span v-else>{{project.name}}</span>\n      </v-flex>\n      <v-flex xs12 class='caption' style='line-height: 32px'>\n        <v-icon small>person</v-icon> <span class='caption'>{{project.canRead.length}}</span>&nbsp;\n        <v-icon small>import_export</v-icon> <span class='caption'>{{project.streams.length}}</span>&nbsp;\n        <v-icon small>fingerprint</v-icon>&nbsp;<strong style=\"user-select:all\">{{project._id}}</strong>&nbsp;\n        <v-icon small>access_time</v-icon>&nbsp;<timeago :datetime='project.updatedAt'></timeago>&nbsp;\n        <span class='caption font-weight-light text-uppercase'>Owned by <strong>{{owner}}</strong>. You {{canEdit ? 'can' : 'cannot'}} edit.</span>\n      </v-flex>\n      <v-flex xs12 class='ma-0 pa-0 mt-3 mb-2'>\n        <v-layout row align-center>\n          <v-flex xs3 class=''>\n            <v-text-field hint='Project Code' :mask='jnMask' v-model='project.jobNumber' solo persistent-hint :disabled='!canEdit' @input='updateJobNumber'></v-text-field>\n          </v-flex>\n          <v-flex xs9>\n            <v-combobox @input='updateTags' :disabled='!canEdit' v-model=\"project.tags\" :items='allTags' hint='add or remove tags' solo persistent-hint small-chips deletable-chips multiple tags>\n              <template v-slot:no-data>Add a new tag!</template>\n            </v-combobox>\n          </v-flex>\n        </v-layout>\n      </v-flex>\n    </v-layout>\n  </v-card>\n</template>\n<script>\nimport debounce from 'lodash.debounce'\nimport uniq from 'lodash.uniq'\n\nexport default {\n  name: 'HelloWorld',\n  props: {\n    project: Object\n  },\n  computed: {\n    jnMask( ) {\n      return this.$store.state.serverManifest.jnMask || \"######-##\"\n    },\n    allProjectStreams( ) {\n      return this.project.streams.join( ',' )\n    },\n    allTags( ) {\n      return this.$store.getters.allTags\n    },\n    canEdit( ) {\n      return this.project.owner === this.$store.state.user._id || this.project.canWrite.indexOf( this.$store.state.user._id ) > -1\n    },\n    owner( ) {\n      let u = this.$store.state.users.find( user => user._id === this.project.owner )\n      if ( !u ) {\n        this.$store.dispatch( 'getUser', { _id: this.project.owner } )\n      }\n      return u ? u.surname.includes( \"is you\" ) ? `you` : `${u.name} ${u.surname}` : 'Loading'\n    },\n    canReadProject( ) { return this.project.canRead },\n    canWriteProject( ) { return this.project.canWrite },\n    canReadStreams( ) { return this.project.permissions.canRead },\n    canWriteStreams( ) { return this.project.permissions.canWrite },\n    allUsers( ) {\n      return uniq( [ ...this.canReadProject, ...this.canWriteProject, ...this.canReadStreams, ...this.canWriteProject, this.project.owner ] )\n    }\n  },\n  data( ) { return {} },\n  methods: {\n    updateName( args ) {\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, name: args.text } )\n    },\n    updateTags: debounce( function ( e ) {\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, tags: this.project.tags } )\n    }, 1000 ),\n    updateJobNumber: debounce( function ( e ) {\n      this.$store.dispatch( 'updateProject', { _id: this.project._id, jobNumber: this.project.jobNumber } )\n    }, 1000 )\n  }\n}\n\n</script>\n<style scoped lang='scss'>\n.title-card {\n  margin-left: 0;\n  margin-right: 0;\n}\n\n.project-name {\n  transition: all 0.2s ease;\n}\n\n.project-name:hover {\n  color: #448aff;\n}\n\n</style>\n"]}]}