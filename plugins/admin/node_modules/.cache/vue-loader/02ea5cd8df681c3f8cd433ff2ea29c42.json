{"remainingRequest":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/UserEditCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/UserEditCard.vue","mtime":1609071089417},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Axios from 'axios'\n\nexport default {\n  name: \"UserEditCard\",\n  props: {\n    user: Object\n  },\n  computed: {\n    valid() {\n      if (\n        this.user.name.length < 1 ||\n        this.user.surname.length < 1 ||\n        this.user.company.length < 1 ||\n        (this.user.role != \"admin\" && this.user.role != \"user\") ||\n        this.user.email.length < 1\n      ) {\n        //TODO real email validation\n        return false;\n      }\n      return true;\n    }\n  },\n  data() {\n    return {\n      showProgress: false\n    };\n  },\n  methods: {\n    saveUser() {\n      this.showProgress = true\n      let payload = {\n        _id: this.user._id,\n        name: this.user.name,\n        surname: this.user.surname,\n        company: this.user.company,\n        email: this.user.email,\n        role: this.user.role,\n        archived: this.user.archived\n      };\n      this.$store.dispatch('updateUserAdmin', payload)\n      .then (() => {\n        this.showProgress = false\n        this.$emit('close-dialog')\n      })\n    },\n    closeDialog() {\n      this.$emit(\"close-dialog\");\n    }\n  },\n};\n",{"version":3,"sources":["UserEditCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserEditCard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card>\n    <v-container>\n      <v-card-title>\n        <span class=\"headline font-weight-light\">Edit User</span>\n        <v-spacer />\n        <v-btn icon @click=\"closeDialog\">\n          <v-icon>close</v-icon>\n        </v-btn>\n        \n      </v-card-title>\n      <v-card-title>\n        <v-flex xs12>\n          <v-progress-linear indeterminate v-if=\"showProgress\" />\n          <v-form>\n            <v-layout row wrap>\n              <v-flex xs12 md6>\n                <v-text-field v-model=\"user.name\" label=\"Name\" required></v-text-field>\n              </v-flex>\n              <v-flex xs12 md6>\n                <v-text-field v-model=\"user.surname\" label=\"Surname\" required></v-text-field>\n              </v-flex>\n              <v-flex xs12>\n                <v-text-field v-model=\"user.email\" label=\"Email\" required></v-text-field>\n              </v-flex>\n              <v-flex xs12>\n                <v-text-field v-model=\"user.company\" label=\"Company\" required></v-text-field>\n              </v-flex>\n              <v-flex xs12 md6>\n                <v-select v-model=\"user.role\" :items=\"['user', 'admin']\" label=\"Role\" required></v-select>\n              </v-flex>\n              <v-layout justify-end>\n                <v-flex xs12 md6>\n                  <v-spacer/>\n                  <v-switch v-model=\"user.archived\" label=\"Archived\" required></v-switch>\n                </v-flex>\n              </v-layout>\n            </v-layout>\n          </v-form>\n        </v-flex>\n      </v-card-title>\n      <v-card-actions>\n        <v-spacer />\n        <v-btn color=\"primary\" :disabled=\"true\">Reset Password</v-btn>\n        <v-btn color=\"primary\" @click=\"saveUser\" :disabled=\"!valid\">Save</v-btn>\n      </v-card-actions>\n    </v-container>\n  </v-card>\n</template>\n<script>\nimport Axios from 'axios'\n\nexport default {\n  name: \"UserEditCard\",\n  props: {\n    user: Object\n  },\n  computed: {\n    valid() {\n      if (\n        this.user.name.length < 1 ||\n        this.user.surname.length < 1 ||\n        this.user.company.length < 1 ||\n        (this.user.role != \"admin\" && this.user.role != \"user\") ||\n        this.user.email.length < 1\n      ) {\n        //TODO real email validation\n        return false;\n      }\n      return true;\n    }\n  },\n  data() {\n    return {\n      showProgress: false\n    };\n  },\n  methods: {\n    saveUser() {\n      this.showProgress = true\n      let payload = {\n        _id: this.user._id,\n        name: this.user.name,\n        surname: this.user.surname,\n        company: this.user.company,\n        email: this.user.email,\n        role: this.user.role,\n        archived: this.user.archived\n      };\n      this.$store.dispatch('updateUserAdmin', payload)\n      .then (() => {\n        this.showProgress = false\n        this.$emit('close-dialog')\n      })\n    },\n    closeDialog() {\n      this.$emit(\"close-dialog\");\n    }\n  },\n};\n</script>\n<style scoped lang='scss'>\n</style>\n"]}]}