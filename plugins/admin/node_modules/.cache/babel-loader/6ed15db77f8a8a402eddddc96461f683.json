{"remainingRequest":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/router.js","dependencies":[{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/router.js","mtime":1609071089423},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.function.name\";\nimport base64url from 'base64url';\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Store from './store/store';\nVue.use(Router);\nvar myRouter = new Router({\n  linkExactActiveClass: 'is-active',\n  routes: [{\n    path: '/',\n    name: 'dashboard',\n    component: function component() {\n      return import('./views/Dashboard.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/signin:redirectTo?',\n    name: 'signin',\n    component: function component() {\n      return import('./views/Signin.vue');\n    },\n    beforeEnter: function beforeEnter(to, from, next) {\n      next();\n    }\n  }, {\n    path: '/signin/callback',\n    name: 'signin-cb',\n    component: function component() {\n      return import('./views/SigninCallback.vue');\n    }\n  }, {\n    path: '/streams',\n    name: 'streams',\n    component: function component() {\n      return import('./views/Streams.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/streams/:streamId',\n    component: function component() {\n      return import('./views/Stream.vue');\n    },\n    meta: {\n      requiresAuth: true\n    },\n    children: [{\n      name: 'stream overview',\n      path: '',\n      component: function component() {\n        return import('./views/StreamOverview.vue');\n      }\n    }, {\n      name: 'stream data',\n      path: 'data',\n      component: function component() {\n        return import('./views/StreamData.vue');\n      }\n    }, {\n      name: 'stream sharing',\n      path: 'sharing',\n      component: function component() {\n        return import('./views/StreamSharing.vue');\n      }\n    }, {\n      name: 'stream history',\n      path: 'history',\n      component: function component() {\n        return import('./views/StreamHistory.vue');\n      }\n    }]\n  }, {\n    path: '/projects',\n    name: 'projects',\n    component: function component() {\n      return import('./views/Projects.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/projects/:projectId',\n    name: 'project overview',\n    component: function component() {\n      return import('./views/Project.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/view/:streamIds*',\n    name: 'viewer',\n    component: function component() {\n      return import('./views/Viewer.vue');\n    },\n    meta: {\n      requiresAuth: false\n    }\n  }, {\n    path: '/trash',\n    name: 'trash',\n    component: function component() {\n      return import('./views/Trash.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/profile',\n    name: 'profile',\n    component: function component() {\n      return import('./views/Profile.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/admin',\n    name: 'admin',\n    component: function component() {\n      return import('./views/Admin.vue');\n    },\n    meta: {\n      requiresAuth: true\n    },\n    children: [{\n      name: 'admin users',\n      path: '',\n      component: function component() {\n        return import('./views/AdminUsers.vue');\n      }\n    }, {\n      name: 'admin streams',\n      path: 'streams',\n      component: function component() {\n        return import('./views/AdminStreams.vue');\n      }\n    }, {\n      name: 'admin projects',\n      path: 'projects',\n      component: function component() {\n        return import('./views/AdminProjects.vue');\n      }\n    }]\n  }, {\n    path: '/processors',\n    name: 'processors',\n    component: function component() {\n      return import('./views/Processors.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/processors/:processorId',\n    name: 'processor overview',\n    component: function component() {\n      return import('./views/Processor.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/pluginsadmin',\n    name: 'plugins',\n    component: function component() {\n      return import('./views/Plugins.vue');\n    },\n    meta: {\n      requiresAuth: true\n    }\n  }]\n});\nmyRouter.afterEach(function (to, from) {\n  if (to.name === 'signin-cb') return;\n  var existingQueryObject = to.query.s ? JSON.parse(base64url.decode(to.query.s)) : {};\n  if (existingQueryObject && existingQueryObject.server && existingQueryObject.server === Store.state.server) return;\n  if (Store.state.server) existingQueryObject.server = Store.state.server;\n\n  if (myRouter.$Countly) {\n    myRouter.$Countly.q.push(['track_pageview', to.name]);\n  }\n\n  myRouter.replace({\n    params: to.params,\n    query: {\n      s: base64url(_JSON$stringify(existingQueryObject))\n    }\n  });\n});\nmyRouter.beforeEach(function (to, from, next) {\n  if (to.meta.requiresAuth) {\n    if (to.meta.requiresAuth === true && Store.state.isAuth === false) return next({\n      path: '/signin'\n    });\n  }\n\n  next();\n});\nexport default myRouter;",{"version":3,"sources":["/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/router.js"],"names":["base64url","Vue","Router","Store","use","myRouter","linkExactActiveClass","routes","path","name","component","meta","requiresAuth","beforeEnter","to","from","next","children","afterEach","existingQueryObject","query","s","JSON","parse","decode","server","state","$Countly","q","push","replace","params","beforeEach","isAuth"],"mappings":";;;AAAA,OAAOA,SAAP,MAAsB,WAAtB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AAEAF,GAAG,CAACG,GAAJ,CAASF,MAAT;AAEA,IAAIG,QAAQ,GAAG,IAAIH,MAAJ,CAAY;AACzBI,EAAAA,oBAAoB,EAAE,WADG;AAEzBC,EAAAA,MAAM,EAAE,CAAE;AACNC,IAAAA,IAAI,EAAE,GADA;AAENC,IAAAA,IAAI,EAAE,WAFA;AAGNC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,uBAAR,CAAP;AAAA,KAHL;AAINC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJA,GAAF,EAMN;AACEJ,IAAAA,IAAI,EAAE,qBADR;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,oBAAR,CAAP;AAAA,KAHb;AAIEG,IAAAA,WAJF,uBAIeC,EAJf,EAImBC,IAJnB,EAIyBC,IAJzB,EAIgC;AAC5BA,MAAAA,IAAI;AACL;AANH,GANM,EAcN;AACER,IAAAA,IAAI,EAAE,kBADR;AAEEC,IAAAA,IAAI,EAAE,WAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,4BAAR,CAAP;AAAA;AAHb,GAdM,EAmBN;AACEF,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,qBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAnBM,EAyBN;AACEJ,IAAAA,IAAI,EAAE,oBADR;AAEEE,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,oBAAR,CAAP;AAAA,KAFb;AAGEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAHR;AAIEK,IAAAA,QAAQ,EAAE,CAAE;AACVR,MAAAA,IAAI,EAAE,iBADI;AAEVD,MAAAA,IAAI,EAAE,EAFI;AAGVE,MAAAA,SAAS,EAAE;AAAA,eAAO,OAAQ,4BAAR,CAAP;AAAA;AAHD,KAAF,EAIP;AACDD,MAAAA,IAAI,EAAE,aADL;AAEDD,MAAAA,IAAI,EAAE,MAFL;AAGDE,MAAAA,SAAS,EAAE;AAAA,eAAO,OAAQ,wBAAR,CAAP;AAAA;AAHV,KAJO,EAQP;AACDD,MAAAA,IAAI,EAAE,gBADL;AAEDD,MAAAA,IAAI,EAAE,SAFL;AAGDE,MAAAA,SAAS,EAAE;AAAA,eAAO,OAAQ,2BAAR,CAAP;AAAA;AAHV,KARO,EAYP;AACDD,MAAAA,IAAI,EAAE,gBADL;AAEDD,MAAAA,IAAI,EAAE,SAFL;AAGDE,MAAAA,SAAS,EAAE;AAAA,eAAO,OAAQ,2BAAR,CAAP;AAAA;AAHV,KAZO;AAJZ,GAzBM,EA+CN;AACEF,IAAAA,IAAI,EAAE,WADR;AAEEC,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,sBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GA/CM,EAqDN;AACEJ,IAAAA,IAAI,EAAE,sBADR;AAEEC,IAAAA,IAAI,EAAE,kBAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,qBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GArDM,EA2DN;AACEJ,IAAAA,IAAI,EAAE,mBADR;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,oBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GA3DM,EAiEN;AACEJ,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,mBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAjEM,EAuEN;AACEJ,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,qBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAvEM,EA6EN;AACEJ,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,mBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAJR;AAKEK,IAAAA,QAAQ,EAAE,CAAE;AACVR,MAAAA,IAAI,EAAE,aADI;AAEVD,MAAAA,IAAI,EAAE,EAFI;AAGVE,MAAAA,SAAS,EAAE;AAAA,eAAO,OAAQ,wBAAR,CAAP;AAAA;AAHD,KAAF,EAIP;AACDD,MAAAA,IAAI,EAAE,eADL;AAEDD,MAAAA,IAAI,EAAE,SAFL;AAGDE,MAAAA,SAAS,EAAE;AAAA,eAAO,OAAQ,0BAAR,CAAP;AAAA;AAHV,KAJO,EAQP;AACDD,MAAAA,IAAI,EAAE,gBADL;AAEDD,MAAAA,IAAI,EAAE,UAFL;AAGDE,MAAAA,SAAS,EAAE;AAAA,eAAO,OAAQ,2BAAR,CAAP;AAAA;AAHV,KARO;AALZ,GA7EM,EAgGN;AACEF,IAAAA,IAAI,EAAE,aADR;AAEEC,IAAAA,IAAI,EAAE,YAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,wBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAhGM,EAsGN;AACEJ,IAAAA,IAAI,EAAE,0BADR;AAEEC,IAAAA,IAAI,EAAE,oBAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,uBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GAtGM,EA4GN;AACEJ,IAAAA,IAAI,EAAE,eADR;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAO,OAAQ,qBAAR,CAAP;AAAA,KAHb;AAIEC,IAAAA,IAAI,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB;AAJR,GA5GM;AAFiB,CAAZ,CAAf;AAuHAP,QAAQ,CAACa,SAAT,CAAoB,UAAEJ,EAAF,EAAMC,IAAN,EAAgB;AAClC,MAAKD,EAAE,CAACL,IAAH,KAAY,WAAjB,EAA+B;AAG/B,MAAIU,mBAAmB,GAAGL,EAAE,CAACM,KAAH,CAASC,CAAT,GAAaC,IAAI,CAACC,KAAL,CAAYvB,SAAS,CAACwB,MAAV,CAAkBV,EAAE,CAACM,KAAH,CAASC,CAA3B,CAAZ,CAAb,GAA4D,EAAtF;AACA,MAAKF,mBAAmB,IAAIA,mBAAmB,CAACM,MAA3C,IAAqDN,mBAAmB,CAACM,MAApB,KAA+BtB,KAAK,CAACuB,KAAN,CAAYD,MAArG,EACE;AAEF,MAAKtB,KAAK,CAACuB,KAAN,CAAYD,MAAjB,EACEN,mBAAmB,CAACM,MAApB,GAA6BtB,KAAK,CAACuB,KAAN,CAAYD,MAAzC;;AAEF,MAAKpB,QAAQ,CAACsB,QAAd,EAAyB;AACvBtB,IAAAA,QAAQ,CAACsB,QAAT,CAAkBC,CAAlB,CAAoBC,IAApB,CAA0B,CAAE,gBAAF,EAAoBf,EAAE,CAACL,IAAvB,CAA1B;AACD;;AAEDJ,EAAAA,QAAQ,CAACyB,OAAT,CAAkB;AAAEC,IAAAA,MAAM,EAAEjB,EAAE,CAACiB,MAAb;AAAqBX,IAAAA,KAAK,EAAE;AAAEC,MAAAA,CAAC,EAAErB,SAAS,CAAE,gBAAgBmB,mBAAhB,CAAF;AAAd;AAA5B,GAAlB;AACD,CAhBD;AAkBAd,QAAQ,CAAC2B,UAAT,CAAqB,UAAElB,EAAF,EAAMC,IAAN,EAAYC,IAAZ,EAAsB;AACzC,MAAKF,EAAE,CAACH,IAAH,CAAQC,YAAb,EAA4B;AAC1B,QAAKE,EAAE,CAACH,IAAH,CAAQC,YAAR,KAAyB,IAAzB,IAAiCT,KAAK,CAACuB,KAAN,CAAYO,MAAZ,KAAuB,KAA7D,EACE,OAAOjB,IAAI,CAAE;AAAER,MAAAA,IAAI,EAAE;AAAR,KAAF,CAAX;AACH;;AACDQ,EAAAA,IAAI;AACL,CAND;AAQA,eAAeX,QAAf","sourcesContent":["import base64url from 'base64url'\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport Store from './store/store'\n\nVue.use( Router )\n\nlet myRouter = new Router( {\n  linkExactActiveClass: 'is-active',\n  routes: [ {\n      path: '/',\n      name: 'dashboard',\n      component: ( ) => import( './views/Dashboard.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/signin:redirectTo?',\n      name: 'signin',\n      component: ( ) => import( './views/Signin.vue' ),\n      beforeEnter( to, from, next ) {\n        next( )\n      }\n    },\n    {\n      path: '/signin/callback',\n      name: 'signin-cb',\n      component: ( ) => import( './views/SigninCallback.vue' ),\n    },\n    {\n      path: '/streams',\n      name: 'streams',\n      component: ( ) => import( './views/Streams.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/streams/:streamId',\n      component: ( ) => import( './views/Stream.vue' ),\n      meta: { requiresAuth: true },\n      children: [ {\n        name: 'stream overview',\n        path: '',\n        component: ( ) => import( './views/StreamOverview.vue' )\n      }, {\n        name: 'stream data',\n        path: 'data',\n        component: ( ) => import( './views/StreamData.vue' )\n      }, {\n        name: 'stream sharing',\n        path: 'sharing',\n        component: ( ) => import( './views/StreamSharing.vue' )\n      }, {\n        name: 'stream history',\n        path: 'history',\n        component: ( ) => import( './views/StreamHistory.vue' )\n      } ]\n    },\n    {\n      path: '/projects',\n      name: 'projects',\n      component: ( ) => import( './views/Projects.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/projects/:projectId',\n      name: 'project overview',\n      component: ( ) => import( './views/Project.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/view/:streamIds*',\n      name: 'viewer',\n      component: ( ) => import( './views/Viewer.vue' ),\n      meta: { requiresAuth: false },\n    },\n    {\n      path: '/trash',\n      name: 'trash',\n      component: ( ) => import( './views/Trash.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/profile',\n      name: 'profile',\n      component: ( ) => import( './views/Profile.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/admin',\n      name: 'admin',\n      component: ( ) => import( './views/Admin.vue' ),\n      meta: { requiresAuth: true },\n      children: [ {\n        name: 'admin users',\n        path: '',\n        component: ( ) => import( './views/AdminUsers.vue' )\n      }, {\n        name: 'admin streams',\n        path: 'streams',\n        component: ( ) => import( './views/AdminStreams.vue' )\n      }, {\n        name: 'admin projects',\n        path: 'projects',\n        component: ( ) => import( './views/AdminProjects.vue' )\n      } ]\n    },\n    {\n      path: '/processors',\n      name: 'processors',\n      component: ( ) => import( './views/Processors.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/processors/:processorId',\n      name: 'processor overview',\n      component: ( ) => import( './views/Processor.vue' ),\n      meta: { requiresAuth: true },\n    },\n    {\n      path: '/pluginsadmin',\n      name: 'plugins',\n      component: ( ) => import( './views/Plugins.vue'),\n      meta: { requiresAuth: true}\n    }\n  ],\n} )\n\nmyRouter.afterEach( ( to, from ) => {\n  if ( to.name === 'signin-cb' ) return\n\n\n  let existingQueryObject = to.query.s ? JSON.parse( base64url.decode( to.query.s ) ) : {}\n  if ( existingQueryObject && existingQueryObject.server && existingQueryObject.server === Store.state.server )\n    return\n\n  if ( Store.state.server )\n    existingQueryObject.server = Store.state.server\n\n  if ( myRouter.$Countly ) {\n    myRouter.$Countly.q.push( [ 'track_pageview', to.name ] )\n  }\n\n  myRouter.replace( { params: to.params, query: { s: base64url( JSON.stringify( existingQueryObject ) ) } } )\n} )\n\nmyRouter.beforeEach( ( to, from, next ) => {\n  if ( to.meta.requiresAuth ) {\n    if ( to.meta.requiresAuth === true && Store.state.isAuth === false )\n      return next( { path: '/signin' } )\n  }\n  next( )\n} )\n\nexport default myRouter\n"]}]}