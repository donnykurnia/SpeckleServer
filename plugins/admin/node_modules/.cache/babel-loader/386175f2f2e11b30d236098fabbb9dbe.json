{"remainingRequest":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/SimpleCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/SimpleCard.vue","mtime":1609071089413},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport debounce from 'lodash.debounce';\nimport uniq from 'lodash.uniq';\nimport union from 'lodash.union';\nimport marked from 'marked';\nexport default {\n  name: 'ProjectCard',\n  props: {\n    resource: Object\n  },\n  watch: {\n    selected: function selected() {\n      this.$emit(\"selected\", this.resource);\n    }\n  },\n  computed: {\n    project: function project() {\n      return this.resource;\n    },\n    createdAt: function createdAt() {\n      var date = new Date(this.project.createdAt);\n      return date.toLocaleString('en', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    },\n    canEdit: function canEdit() {\n      return this.isOwner ? true : this.project.canWrite.indexOf(this.$store.state.user._id) !== -1;\n    },\n    isOwner: function isOwner() {\n      return this.project.owner === this.$store.state.user._id;\n    },\n    resourceType: function resourceType() {\n      if (this.resource.streamId) return 'stream';else return 'project';\n    }\n  },\n  data: function data() {\n    return {\n      selected: false\n    };\n  },\n  methods: {\n    deleteForever: function deleteForever() {\n      if (this.resource.streamId) this.$store.dispatch('deleteStream', {\n        streamId: this.resource.streamId\n      });else this.$store.dispatch('deleteProject', {\n        _id: this.resource._id\n      });\n    },\n    restore: function restore() {\n      if (this.resource.streamId) this.$store.dispatch('updateStream', {\n        streamId: this.resource.streamId,\n        deleted: false\n      });else this.$store.dispatch('updateProject', {\n        _id: this.resource._id,\n        deleted: false\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // TODO: caca\n    bus.$on('select-resource', function (id) {\n      if (id === _this.resource._id) _this.selected = true;\n    });\n    bus.$on('unselect-all-resources', function () {\n      _this.selected = false;\n    });\n  }\n};",{"version":3,"sources":["SimpleCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,QAAA,MAAA,iBAAA;AACA,OAAA,IAAA,MAAA,aAAA;AACA,OAAA,KAAA,MAAA,cAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA,WAAA,KAAA,CAAA,UAAA,EAAA,KAAA,QAAA;AAAA;AADA,GALA;AAQA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,aAAA,KAAA,QAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AACA,UAAA,IAAA,GAAA,IAAA,IAAA,CAAA,KAAA,OAAA,CAAA,SAAA,CAAA;AACA,aAAA,IAAA,CAAA,cAAA,CAAA,IAAA,EAAA;AAAA,QAAA,IAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA,CAAA;AACA,KAPA;AAQA,IAAA,OARA,qBAQA;AACA,aAAA,KAAA,OAAA,GAAA,IAAA,GAAA,KAAA,OAAA,CAAA,QAAA,CAAA,OAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,MAAA,CAAA,CAAA;AACA,KAVA;AAWA,IAAA,OAXA,qBAWA;AACA,aAAA,KAAA,OAAA,CAAA,KAAA,KAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAbA;AAcA,IAAA,YAdA,0BAcA;AACA,UAAA,KAAA,QAAA,CAAA,QAAA,EACA,OAAA,QAAA,CADA,KAGA,OAAA,SAAA;AACA;AAnBA,GARA;AA6BA,EAAA,IA7BA,kBA6BA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA,GAjCA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,KAAA,QAAA,CAAA,QAAA,EACA,KAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AAAA,QAAA,QAAA,EAAA,KAAA,QAAA,CAAA;AAAA,OAAA,EADA,KAGA,KAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,GAAA,EAAA,KAAA,QAAA,CAAA;AAAA,OAAA;AACA,KANA;AAOA,IAAA,OAPA,qBAOA;AACA,UAAA,KAAA,QAAA,CAAA,QAAA,EACA,KAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AAAA,QAAA,QAAA,EAAA,KAAA,QAAA,CAAA,QAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA,EADA,KAGA,KAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,GAAA,EAAA,KAAA,QAAA,CAAA,GAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA;AACA;AAZA,GAlCA;AAgDA,EAAA,OAhDA,qBAgDA;AAAA;;AACA;AACA,IAAA,GAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,UAAA,EAAA,EAAA;AACA,UAAA,EAAA,KAAA,KAAA,CAAA,QAAA,CAAA,GAAA,EAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,KAFA;AAGA,IAAA,GAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA,KAFA;AAGA;AAxDA,CAAA","sourcesContent":["<template>\n  <v-card :class=\"{'elevation-10':selected, 'elevation-1': true}\" :style=\"`opacity:${isOwner ? 1 : 0.20 };pointer-events:${isOwner ? 'all' : 'none'};`\">\n    <v-card-title>\n      <v-icon left>{{resourceType==='stream'?'import_export':'business'}}</v-icon>&nbsp;\n      <span class='title font-weight-light'>{{resource.name ? resource.name : \"No Name\"}}</span>&nbsp;\n      <span class='caption'>({{resourceType}})</span>&nbsp;\n      <v-spacer></v-spacer>\n      <span></span>\n      <span>\n        <v-checkbox color='primary' v-model=\"selected\"></v-checkbox>\n      </span>\n    </v-card-title>\n    <v-divider class='mx-0 my-0'></v-divider>\n    <v-layout row wrap>\n      <v-flex xs12 class='caption' ma-2>\n        <v-icon small>edit</v-icon>&nbsp;<timeago :datetime='resource.updatedAt'></timeago>&nbsp;\n        <v-icon small>access_time</v-icon>&nbsp; {{createdAt}}&nbsp;\n      </v-flex>\n    </v-layout>\n    <v-card-actions>\n      <v-spacer></v-spacer>\n      <v-btn depressed flat color='error' class='transparent' @click.native='deleteForever()' v-show='isOwner'>Delete Permanently</v-btn>\n      <v-btn color='primary' @click.native='restore()'>Restore</v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n<script>\nimport debounce from 'lodash.debounce'\nimport uniq from 'lodash.uniq'\nimport union from 'lodash.union'\nimport marked from 'marked'\n\nexport default {\n  name: 'ProjectCard',\n  props: {\n    resource: Object\n  },\n  watch: {\n    selected( ) { this.$emit( \"selected\", this.resource ) }\n  },\n  computed: {\n    project( ) {\n      return this.resource\n    },\n    createdAt( ) {\n      let date = new Date( this.project.createdAt )\n      return date.toLocaleString( 'en', { year: 'numeric', month: 'long', day: 'numeric' } )\n    },\n    canEdit( ) {\n      return this.isOwner ? true : this.project.canWrite.indexOf( this.$store.state.user._id ) !== -1\n    },\n    isOwner( ) {\n      return this.project.owner === this.$store.state.user._id\n    },\n    resourceType( ) {\n      if ( this.resource.streamId )\n        return 'stream'\n      else\n        return 'project'\n    }\n  },\n  data( ) {\n    return {\n      selected: false,\n    }\n  },\n  methods: {\n    deleteForever( ) {\n      if ( this.resource.streamId )\n        this.$store.dispatch( 'deleteStream', { streamId: this.resource.streamId } )\n      else\n        this.$store.dispatch( 'deleteProject', { _id: this.resource._id } )\n    },\n    restore( ) {\n      if ( this.resource.streamId )\n        this.$store.dispatch( 'updateStream', { streamId: this.resource.streamId, deleted: false } )\n      else\n        this.$store.dispatch( 'updateProject', { _id: this.resource._id, deleted: false } )\n    }\n  },\n  mounted( ) {\n    // TODO: caca\n    bus.$on( 'select-resource', id => {\n      if ( id === this.resource._id ) this.selected = true\n    } )\n    bus.$on( 'unselect-all-resources', ( ) => {\n      this.selected = false\n    } )\n  }\n}\n\n</script>\n<style scoped lang='scss'>\n</style>\n"],"sourceRoot":"src/components"}]}