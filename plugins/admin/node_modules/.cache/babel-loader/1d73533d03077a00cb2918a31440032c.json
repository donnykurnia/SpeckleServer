{"remainingRequest":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/renderer/SelectionHelper.js","dependencies":[{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/renderer/SelectionHelper.js","mtime":1609071089422},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["/**\n * @author HypnosNova / https://www.threejs.org.cn/gallery\n * This is a class to check whether objects are in a selection area in 3D space\n * Note: modified for speckle use\n */\nfunction SelectionHelper(selectionBox, renderer, cssClassName, controls, mouse) {\n  this.element = document.createElement(\"div\");\n  this.element.classList.add(cssClassName);\n  this.element.style.pointerEvents = \"none\";\n  this.renderer = renderer;\n  this.startPoint = {\n    x: 0,\n    y: 0\n  };\n  this.pointTopLeft = {\n    x: 0,\n    y: 0\n  };\n  this.pointBottomRight = {\n    x: 0,\n    y: 0\n  };\n  this.isDown = false;\n  this.controls = controls;\n  this.mouse = mouse;\n  this.renderer.domElement.addEventListener(\"mousedown\", function (event) {\n    if (this.controls.enabled) return;\n    this.isDown = true;\n    this.onSelectStart(event);\n  }.bind(this), false);\n  this.renderer.domElement.addEventListener(\"mousemove\", function (event) {\n    if (this.isDown) {\n      this.onSelectMove(event);\n    }\n  }.bind(this), false);\n  this.renderer.domElement.addEventListener(\"mouseup\", function (event) {\n    this.isDown = false;\n    this.onSelectOver(event);\n  }.bind(this), false);\n}\n\nSelectionHelper.prototype.onSelectStart = function (event) {\n  this.renderer.domElement.parentElement.appendChild(this.element);\n  var rect = this.renderer.domElement.getBoundingClientRect();\n  var x = event.clientX - rect.left;\n  var y = event.clientY - rect.top;\n  this.element.style.left = x + \"px\";\n  this.element.style.top = y + \"px\";\n  this.element.style.width = \"0px\";\n  this.element.style.height = \"0px\";\n  this.element.style.border = '1px solid #55aaff';\n  this.element.style.backgroundColor = 'rgba(255,255,255,0.1)';\n  this.element.style.position = 'absolute';\n  this.element.style.pointerEvents = 'none';\n  this.startPoint.x = x;\n  this.startPoint.y = y;\n};\n\nSelectionHelper.prototype.onSelectMove = function (event) {\n  if (this.controls.enabled) return;\n  var rect = this.renderer.domElement.getBoundingClientRect();\n  var x = event.clientX - rect.left;\n  var y = event.clientY - rect.top;\n  this.pointBottomRight.x = Math.max(this.startPoint.x, x);\n  this.pointBottomRight.y = Math.max(this.startPoint.y, y);\n  this.pointTopLeft.x = Math.min(this.startPoint.x, x);\n  this.pointTopLeft.y = Math.min(this.startPoint.y, y);\n  this.element.style.left = this.pointTopLeft.x + \"px\";\n  this.element.style.top = this.pointTopLeft.y + \"px\";\n  this.element.style.width = this.pointBottomRight.x - this.pointTopLeft.x + \"px\";\n  this.element.style.height = this.pointBottomRight.y - this.pointTopLeft.y + \"px\";\n};\n\nSelectionHelper.prototype.onSelectOver = function (event) {\n  // if ( this.controls.enabled ) return\n  // if ( this.element && this.parentElement )\n  try {\n    this.element.parentElement.removeChild(this.element);\n  } catch (e) {}\n};\n\nexport default SelectionHelper;",{"version":3,"sources":["/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/renderer/SelectionHelper.js"],"names":["SelectionHelper","selectionBox","renderer","cssClassName","controls","mouse","element","document","createElement","classList","add","style","pointerEvents","startPoint","x","y","pointTopLeft","pointBottomRight","isDown","domElement","addEventListener","event","enabled","onSelectStart","bind","onSelectMove","onSelectOver","prototype","parentElement","appendChild","rect","getBoundingClientRect","clientX","left","clientY","top","width","height","border","backgroundColor","position","Math","max","min","removeChild","e"],"mappings":"AAAA;;;;;AAOA,SAASA,eAAT,CAA0BC,YAA1B,EAAwCC,QAAxC,EAAkDC,YAAlD,EAAgEC,QAAhE,EAA0EC,KAA1E,EAAkF;AAEhF,OAAKC,OAAL,GAAeC,QAAQ,CAACC,aAAT,CAAwB,KAAxB,CAAf;AACA,OAAKF,OAAL,CAAaG,SAAb,CAAuBC,GAAvB,CAA4BP,YAA5B;AACA,OAAKG,OAAL,CAAaK,KAAb,CAAmBC,aAAnB,GAAmC,MAAnC;AAEA,OAAKV,QAAL,GAAgBA,QAAhB;AAEA,OAAKW,UAAL,GAAkB;AAAEC,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAlB;AACA,OAAKC,YAAL,GAAoB;AAAEF,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAApB;AACA,OAAKE,gBAAL,GAAwB;AAAEH,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAxB;AAEA,OAAKG,MAAL,GAAc,KAAd;AACA,OAAKd,QAAL,GAAgBA,QAAhB;AACA,OAAKC,KAAL,GAAaA,KAAb;AAEA,OAAKH,QAAL,CAAciB,UAAd,CAAyBC,gBAAzB,CAA2C,WAA3C,EAAwD,UAAUC,KAAV,EAAkB;AACxE,QAAK,KAAKjB,QAAL,CAAckB,OAAnB,EAA6B;AAC7B,SAAKJ,MAAL,GAAc,IAAd;AACA,SAAKK,aAAL,CAAoBF,KAApB;AAED,GALuD,CAKtDG,IALsD,CAKhD,IALgD,CAAxD,EAKgB,KALhB;AAOA,OAAKtB,QAAL,CAAciB,UAAd,CAAyBC,gBAAzB,CAA2C,WAA3C,EAAwD,UAAUC,KAAV,EAAkB;AAExE,QAAK,KAAKH,MAAV,EAAmB;AAEjB,WAAKO,YAAL,CAAmBJ,KAAnB;AAED;AAEF,GARuD,CAQtDG,IARsD,CAQhD,IARgD,CAAxD,EAQgB,KARhB;AAUA,OAAKtB,QAAL,CAAciB,UAAd,CAAyBC,gBAAzB,CAA2C,SAA3C,EAAsD,UAAUC,KAAV,EAAkB;AAEtE,SAAKH,MAAL,GAAc,KAAd;AACA,SAAKQ,YAAL,CAAmBL,KAAnB;AAED,GALqD,CAKpDG,IALoD,CAK9C,IAL8C,CAAtD,EAKgB,KALhB;AAOD;;AAEDxB,eAAe,CAAC2B,SAAhB,CAA0BJ,aAA1B,GAA0C,UAAUF,KAAV,EAAkB;AAE1D,OAAKnB,QAAL,CAAciB,UAAd,CAAyBS,aAAzB,CAAuCC,WAAvC,CAAoD,KAAKvB,OAAzD;AAEA,MAAIwB,IAAI,GAAG,KAAK5B,QAAL,CAAciB,UAAd,CAAyBY,qBAAzB,EAAX;AACA,MAAIjB,CAAC,GAAGO,KAAK,CAACW,OAAN,GAAgBF,IAAI,CAACG,IAA7B;AACA,MAAIlB,CAAC,GAAGM,KAAK,CAACa,OAAN,GAAgBJ,IAAI,CAACK,GAA7B;AAEA,OAAK7B,OAAL,CAAaK,KAAb,CAAmBsB,IAAnB,GAA0BnB,CAAC,GAAG,IAA9B;AACA,OAAKR,OAAL,CAAaK,KAAb,CAAmBwB,GAAnB,GAAyBpB,CAAC,GAAG,IAA7B;AACA,OAAKT,OAAL,CAAaK,KAAb,CAAmByB,KAAnB,GAA2B,KAA3B;AACA,OAAK9B,OAAL,CAAaK,KAAb,CAAmB0B,MAAnB,GAA4B,KAA5B;AAEA,OAAK/B,OAAL,CAAaK,KAAb,CAAmB2B,MAAnB,GAA4B,mBAA5B;AACA,OAAKhC,OAAL,CAAaK,KAAb,CAAmB4B,eAAnB,GAAqC,uBAArC;AACA,OAAKjC,OAAL,CAAaK,KAAb,CAAmB6B,QAAnB,GAA8B,UAA9B;AACA,OAAKlC,OAAL,CAAaK,KAAb,CAAmBC,aAAnB,GAAmC,MAAnC;AAEA,OAAKC,UAAL,CAAgBC,CAAhB,GAAoBA,CAApB;AACA,OAAKD,UAAL,CAAgBE,CAAhB,GAAoBA,CAApB;AAED,CArBD;;AAuBAf,eAAe,CAAC2B,SAAhB,CAA0BF,YAA1B,GAAyC,UAAUJ,KAAV,EAAkB;AACzD,MAAK,KAAKjB,QAAL,CAAckB,OAAnB,EAA6B;AAC7B,MAAIQ,IAAI,GAAG,KAAK5B,QAAL,CAAciB,UAAd,CAAyBY,qBAAzB,EAAX;AAEA,MAAIjB,CAAC,GAAGO,KAAK,CAACW,OAAN,GAAgBF,IAAI,CAACG,IAA7B;AACA,MAAIlB,CAAC,GAAGM,KAAK,CAACa,OAAN,GAAgBJ,IAAI,CAACK,GAA7B;AAEA,OAAKlB,gBAAL,CAAsBH,CAAtB,GAA0B2B,IAAI,CAACC,GAAL,CAAU,KAAK7B,UAAL,CAAgBC,CAA1B,EAA6BA,CAA7B,CAA1B;AACA,OAAKG,gBAAL,CAAsBF,CAAtB,GAA0B0B,IAAI,CAACC,GAAL,CAAU,KAAK7B,UAAL,CAAgBE,CAA1B,EAA6BA,CAA7B,CAA1B;AACA,OAAKC,YAAL,CAAkBF,CAAlB,GAAsB2B,IAAI,CAACE,GAAL,CAAU,KAAK9B,UAAL,CAAgBC,CAA1B,EAA6BA,CAA7B,CAAtB;AACA,OAAKE,YAAL,CAAkBD,CAAlB,GAAsB0B,IAAI,CAACE,GAAL,CAAU,KAAK9B,UAAL,CAAgBE,CAA1B,EAA6BA,CAA7B,CAAtB;AAEA,OAAKT,OAAL,CAAaK,KAAb,CAAmBsB,IAAnB,GAA0B,KAAKjB,YAAL,CAAkBF,CAAlB,GAAsB,IAAhD;AACA,OAAKR,OAAL,CAAaK,KAAb,CAAmBwB,GAAnB,GAAyB,KAAKnB,YAAL,CAAkBD,CAAlB,GAAsB,IAA/C;AACA,OAAKT,OAAL,CAAaK,KAAb,CAAmByB,KAAnB,GAA6B,KAAKnB,gBAAL,CAAsBH,CAAtB,GAA0B,KAAKE,YAAL,CAAkBF,CAA9C,GAAoD,IAA/E;AACA,OAAKR,OAAL,CAAaK,KAAb,CAAmB0B,MAAnB,GAA8B,KAAKpB,gBAAL,CAAsBF,CAAtB,GAA0B,KAAKC,YAAL,CAAkBD,CAA9C,GAAoD,IAAhF;AAED,CAjBD;;AAmBAf,eAAe,CAAC2B,SAAhB,CAA0BD,YAA1B,GAAyC,UAAUL,KAAV,EAAkB;AACzD;AACA;AACA,MAAI;AACF,SAAKf,OAAL,CAAasB,aAAb,CAA2BgB,WAA3B,CAAwC,KAAKtC,OAA7C;AACD,GAFD,CAEE,OAAQuC,CAAR,EAAY,CAAE;AACjB,CAND;;AAQA,eAAe7C,eAAf","sourcesContent":["/**\n * @author HypnosNova / https://www.threejs.org.cn/gallery\n * This is a class to check whether objects are in a selection area in 3D space\n * Note: modified for speckle use\n */\n\n\nfunction SelectionHelper( selectionBox, renderer, cssClassName, controls, mouse ) {\n\n  this.element = document.createElement( \"div\" );\n  this.element.classList.add( cssClassName );\n  this.element.style.pointerEvents = \"none\";\n\n  this.renderer = renderer;\n\n  this.startPoint = { x: 0, y: 0 };\n  this.pointTopLeft = { x: 0, y: 0 };\n  this.pointBottomRight = { x: 0, y: 0 };\n\n  this.isDown = false;\n  this.controls = controls\n  this.mouse = mouse\n\n  this.renderer.domElement.addEventListener( \"mousedown\", function( event ) {\n    if ( this.controls.enabled ) return\n    this.isDown = true;\n    this.onSelectStart( event );\n\n  }.bind( this ), false );\n\n  this.renderer.domElement.addEventListener( \"mousemove\", function( event ) {\n\n    if ( this.isDown ) {\n\n      this.onSelectMove( event );\n\n    }\n\n  }.bind( this ), false );\n\n  this.renderer.domElement.addEventListener( \"mouseup\", function( event ) {\n\n    this.isDown = false;\n    this.onSelectOver( event );\n\n  }.bind( this ), false );\n\n}\n\nSelectionHelper.prototype.onSelectStart = function( event ) {\n\n  this.renderer.domElement.parentElement.appendChild( this.element )\n\n  let rect = this.renderer.domElement.getBoundingClientRect( )\n  let x = event.clientX - rect.left\n  let y = event.clientY - rect.top\n\n  this.element.style.left = x + \"px\";\n  this.element.style.top = y + \"px\";\n  this.element.style.width = \"0px\";\n  this.element.style.height = \"0px\";\n\n  this.element.style.border = '1px solid #55aaff'\n  this.element.style.backgroundColor = 'rgba(255,255,255,0.1)'\n  this.element.style.position = 'absolute'\n  this.element.style.pointerEvents = 'none'\n\n  this.startPoint.x = x;\n  this.startPoint.y = y;\n\n}\n\nSelectionHelper.prototype.onSelectMove = function( event ) {\n  if ( this.controls.enabled ) return\n  let rect = this.renderer.domElement.getBoundingClientRect( )\n\n  let x = event.clientX - rect.left\n  let y = event.clientY - rect.top\n\n  this.pointBottomRight.x = Math.max( this.startPoint.x, x );\n  this.pointBottomRight.y = Math.max( this.startPoint.y, y );\n  this.pointTopLeft.x = Math.min( this.startPoint.x, x );\n  this.pointTopLeft.y = Math.min( this.startPoint.y, y );\n\n  this.element.style.left = this.pointTopLeft.x + \"px\";\n  this.element.style.top = this.pointTopLeft.y + \"px\";\n  this.element.style.width = ( this.pointBottomRight.x - this.pointTopLeft.x ) + \"px\";\n  this.element.style.height = ( this.pointBottomRight.y - this.pointTopLeft.y ) + \"px\";\n\n}\n\nSelectionHelper.prototype.onSelectOver = function( event ) {\n  // if ( this.controls.enabled ) return\n  // if ( this.element && this.parentElement )\n  try {\n    this.element.parentElement.removeChild( this.element );\n  } catch ( e ) {}\n}\n\nexport default SelectionHelper\n"]}]}