{"remainingRequest":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/DetailDescription.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/src/components/DetailDescription.vue","mtime":1609071089407},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/donnykurnia/data/Projects/upwork/3dbyggeri/glasshouse/SpeckleServer/plugins/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport debounce from 'lodash.debounce';\nimport marked from 'marked';\nexport default {\n  name: 'DetailDescription',\n  props: {\n    resource: Object\n  },\n  computed: {\n    title: function title() {\n      if (this.isStream) return \"Stream\";else if (this.isProcessor) return \"Processor\";else return \"Project\";\n    },\n    compiledDescription: function compiledDescription() {\n      return marked(this.resource.description, {\n        sanitize: true\n      });\n    },\n    canEdit: function canEdit() {\n      if (this.$store.state.user.role == 'admin') return true;\n      return this.isOwner ? true : this.resource.canWrite.indexOf(this.$store.state.user._id) !== -1;\n    },\n    isOwner: function isOwner() {\n      return this.resource.owner === this.$store.state.user._id;\n    },\n    isStream: function isStream() {\n      return this.resource.hasOwnProperty('streamId');\n    },\n    isProcessor: function isProcessor() {\n      return this.resource.hasOwnProperty('blocks');\n    }\n  },\n  data: function data() {\n    return {\n      editDescription: false\n    };\n  },\n  methods: {\n    updateDescription: function updateDescription() {\n      this.editDescription = false;\n      if (this.isStream) this.$store.dispatch('updateStream', {\n        streamId: this.resource.streamId,\n        description: this.resource.description\n      });else if (this.isProcessor) this.$store.dispatch('updateProcessor', {\n        _id: this.resource._id,\n        description: this.resource.description\n      });else this.$store.dispatch('updateProject', {\n        _id: this.resource._id,\n        description: this.resource.description\n      });\n    }\n  }\n};",{"version":3,"sources":["DetailDescription.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,QAAA,MAAA,iBAAA;AACA,OAAA,MAAA,MAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,mBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AADA,GAFA;AAKA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,UAAA,KAAA,QAAA,EAAA,OAAA,QAAA,CAAA,KACA,IAAA,KAAA,WAAA,EAAA,OAAA,WAAA,CAAA,KACA,OAAA,SAAA;AACA,KALA;AAMA,IAAA,mBANA,iCAMA;AACA,aAAA,MAAA,CAAA,KAAA,QAAA,CAAA,WAAA,EAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,CAAA;AACA,KARA;AASA,IAAA,OATA,qBASA;AACA,UAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA,IAAA,OAAA,EAAA,OAAA,IAAA;AACA,aAAA,KAAA,OAAA,GAAA,IAAA,GAAA,KAAA,QAAA,CAAA,QAAA,CAAA,OAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA,MAAA,CAAA,CAAA;AACA,KAZA;AAaA,IAAA,OAbA,qBAaA;AACA,aAAA,KAAA,QAAA,CAAA,KAAA,KAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,GAAA;AACA,KAfA;AAgBA,IAAA,QAhBA,sBAgBA;AACA,aAAA,KAAA,QAAA,CAAA,cAAA,CAAA,UAAA,CAAA;AACA,KAlBA;AAmBA,IAAA,WAnBA,yBAmBA;AACA,aAAA,KAAA,QAAA,CAAA,cAAA,CAAA,QAAA,CAAA;AACA;AArBA,GALA;AA4BA,EAAA,IA5BA,kBA4BA;AACA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GAhCA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,WAAA,eAAA,GAAA,KAAA;AACA,UAAA,KAAA,QAAA,EACA,KAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AAAA,QAAA,QAAA,EAAA,KAAA,QAAA,CAAA,QAAA;AAAA,QAAA,WAAA,EAAA,KAAA,QAAA,CAAA;AAAA,OAAA,EADA,KAEA,IAAA,KAAA,WAAA,EACA,KAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,EAAA;AAAA,QAAA,GAAA,EAAA,KAAA,QAAA,CAAA,GAAA;AAAA,QAAA,WAAA,EAAA,KAAA,QAAA,CAAA;AAAA,OAAA,EADA,KAGA,KAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA;AAAA,QAAA,GAAA,EAAA,KAAA,QAAA,CAAA,GAAA;AAAA,QAAA,WAAA,EAAA,KAAA,QAAA,CAAA;AAAA,OAAA;AACA;AATA;AAjCA,CAAA","sourcesContent":["<template>\n  <v-card v-if='resource' class='elevation-0'>\n    <v-toolbar class='elevation-0 transparent'>\n      <v-icon left small>book</v-icon>\n      <span class='title font-weight-light'>{{title}} Description</span>\n      <v-spacer></v-spacer>\n      <v-toolbar-items>\n        <v-btn flat color='primary' v-if='editDescription===false && canEdit' @click.native='editDescription=true'>Edit</v-btn>\n        <v-btn flat color='primary' v-if='editDescription===true' @click.native='updateDescription'>Done</v-btn>\n      </v-toolbar-items>\n    </v-toolbar>\n    <v-divider></v-divider>\n    <v-card-text>\n      <v-layout v-show='!editDescription'>\n        <v-flex xs12 v-html='compiledDescription'></v-flex>\n      </v-layout>\n      <v-layout v-show='editDescription' row wrap>\n        <v-flex xs12 class=\"caption\">\n          Supports <a class='' target=\"_blank\" href='https://en.wikipedia.org/wiki/Markdown#Example'>markdown:</a><strong> ** bold **</strong>, <i>* italic *</i>, <code># Heading 1</code>, <code>## Heading 2</code>, <code>[links](http://example.com)</code>, etc.\n        </v-flex>\n        <v-flex xs12>\n          <v-textarea box rows='15' v-model=\"resource.description\"></v-textarea>\n        </v-flex>\n        </md-field>\n      </v-layout>\n    </v-card-text>\n     <v-toolbar transparent class='elevation-0 transparent' dense v-if='isStream'>\n      <v-icon left small>power_input</v-icon>\n      <span class='title font-weight-light'>Units</span>\n     </v-toolbar>\n     <v-divider></v-divider>\n    <v-card-text class='md-caption' v-if='resource.baseProperties'>\n      <span><strong>Units:</strong> {{resource.baseProperties.units}}</span>;\n      <span><strong>Tolerance:</strong> {{resource.baseProperties.tolerance}}</span>.\n    </v-card-text>\n  </v-card>\n</template>\n<script>\nimport debounce from 'lodash.debounce'\nimport marked from 'marked'\n\nexport default {\n  name: 'DetailDescription',\n  props: {\n    resource: Object,\n  },\n  computed: {\n    title ( ) {\n      if ( this.isStream ) return \"Stream\"\n      else if ( this.isProcessor ) return \"Processor\"\n      else return \"Project\"\n    },\n    compiledDescription( ) {\n      return marked( this.resource.description, { sanitize: true } )\n    },\n    canEdit( ) {\n      if (this.$store.state.user.role == 'admin') return true\n      return this.isOwner ? true : this.resource.canWrite.indexOf( this.$store.state.user._id ) !== -1\n    },\n    isOwner( ) {\n      return this.resource.owner === this.$store.state.user._id\n    },\n    isStream( ) {\n      return this.resource.hasOwnProperty( 'streamId' )\n    },\n    isProcessor( ) {\n      return this.resource.hasOwnProperty( 'blocks' )\n    }\n  },\n  data( ) {\n    return {\n      editDescription: false\n    }\n  },\n  methods: {\n    updateDescription( ) {\n      this.editDescription = false\n      if ( this.isStream )\n        this.$store.dispatch( 'updateStream', { streamId: this.resource.streamId, description: this.resource.description } )\n      else if ( this.isProcessor )\n        this.$store.dispatch( 'updateProcessor', { _id: this.resource._id, description: this.resource.description } )\n      else\n        this.$store.dispatch( 'updateProject', { _id: this.resource._id, description: this.resource.description } )\n    },\n  }\n}\n\n</script>\n<style scoped lang='scss'>\n</style>\n"],"sourceRoot":"src/components"}]}